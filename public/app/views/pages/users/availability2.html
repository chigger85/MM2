<div class="page-header">
 <h2>
	Fixtures
	<a ng-if = "main.user.userType == 'admin'" href="/availability/create" class="btn btn-default"> 
		<span class="glyphicon glyphicon-plus"></span>
		
	</a> 
</h2>
</div>


<div class = "jumbotron text-center" ng-show = "fixture.processing">
    <span class="glyphicon glyphicon-repeat spinner"></span> 
        <p>Loading Fixtures...</p>
       
</div>

<div class="container">
    <div class="row">
        <div class="panel panel-primary filterable">
            <div class="panel-heading">
                <h3 class = "panel-title"> Fixtures </h3>
                <div class="pull-right">
                </div>
            </div>
            <table class="table" ng-show = "fixture.fixtures">
                <thead>
                    <tr class="filters">
                        <th><input type="text" class="form-control" placeholder="Date" disabled></th>
                        <th><input type="text" class="form-control" placeholder="Opposition" disabled></th>
                        <th><input type="text" class="form-control" placeholder="H/A" disabled></th>
                        <th><input type="text" class="form-control" placeholder="Venue" disabled></th>
                        <th><input type="text" class="form-control" placeholder="Competition" disabled></th>
                        <th><input type="text" class="form-control" placeholder="Attending?" disabled></th>
                        <th ng-if = "main.user.userType == 'admin'"> <input type="text" class="form-control" placeholder="Admin" disabled> </th>
                    </tr>
                </thead>
                <tbody>
         <!-- LOOP OVER THE fixtures -->
                     <tr ng-repeat="detail in fixture.fixtures" class = "body"> 
                       <td> {{detail.date | date: 'longDate'}}</td>
                        <td>{{detail.opposition}}</td>
                        <td> 
                            <div ng-if = "detail.home == true"> H </div>
                            <div ng-if = "detail.home == false"> A </div>
                        </td>
                        <td>{{ detail.venue }}</td>
                        <td>{{ detail.comp}}</td>
                        <td>

                            <div ng-if = "detail.available.indexOf(main.user.id) >-1" class="yes glyphicon glyphicon-thumbs-up">
                                <a href="" class="btn btn-sm" ng-click = "fixture.removeAttend(detail._id)"> change </a>
                        
                            </div>

                            <div ng-if = "detail.available.indexOf(main.user.id) ==-1" class="no glyphicon glyphicon-thumbs-down">
                                <a href="" class="btn btn-sm" ng-click = "fixture.addAttend(detail._id)"> change </a>
                            </div>
                        
                        </td> 
                       <td>
                            <a ng-if = "main.user.userType == 'admin'" ng-href="/availability/{{ detail._id }}">
                                <span class="glyphicon glyphicon-pencil">&nbsp </span> 
                            </a>
                            <a ng-if = "main.user.userType == 'admin'"  href="#" ng-click="fixture.deleteFixture(detail._id)">
                                <span class="glyphicon glyphicon-trash"></span>
                            </a>
                    </td>

                     </tr>


                 </tbody> 
            </table>
        </div>
    </div>
</div>
</div>






